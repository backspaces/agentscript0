(function(){ABM.FloodFill=function(){function t(t,n,i,o){this.fCandidate=n,this.fJoin=i,this.fNeighbors=o,this.nextFront=t,this.prevFront=[],this.done=!1}return t.prototype.nextStep=function(){var t,n,i,o,e,h,r,s,f,F,d,p;if(!this.done){for(F=this.nextFront,o=0,r=F.length;r>o;o++)i=F[o],this.fJoin(i,this.prevFront);for(t=[],d=this.nextFront,e=0,s=d.length;s>e;e++)for(i=d[e],p=this.fNeighbors(i),h=0,f=p.length;f>h;h++)n=p[h],this.fCandidate(n,this.nextFront)&&t.indexOf(n)<0&&t.push(n);return this.prevFront=this.nextFront,this.nextFront=t,0===this.nextFront.length?this.done=!0:void 0}},t.prototype.go=function(){var t;for(t=[];!this.done;)t.push(this.nextStep());return t},t}()}).call(this);